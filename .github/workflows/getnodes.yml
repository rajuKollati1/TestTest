name: Kubernetes Nodes Status

on:
  workflow_dispatch:

jobs:
  get-nodes:
    runs-on: self-hosted

    steps:
      - name: Print current user
        run: whoami

      - name: Check Kubernetes config
        run: echo "KUBECONFIG is set to: $KUBECONFIG"

      - name: Run 'kubectl get nodes'
        run: |
          echo "Running kubectl get nodes..."
          kubectl get nodes -o wide
